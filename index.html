<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FireGauge - The Future of Fire Hose Testing & Compliance</title>
    <meta name="description" content="Mobile-first fire hose testing platform that streamlines workflows and helps departments stay aligned with NFPA 1962. Try it free for 14&nbsp;days." />
    <meta name="keywords" content="fire hose testing, NFPA 1962, fire compliance, digital testing, fire department software, hose testing equipment, mobile testing platform, fire safety compliance" />
    <meta name="author" content="FireGauge" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="en-US" />
    <meta name="rating" content="general" />
    <meta name="distribution" content="global" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://firegauge.app/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="FireGauge - The Future of Fire Hose Testing & Compliance" />
    <meta property="og:description" content="Mobile-first fire hose testing platform that streamlines workflows and aids NFPA 1962 compliance. Try it free for 14&nbsp;days." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://firegauge.app/" />
    <meta property="og:image" content="https://firegauge.app/firegauge-og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="FireGauge - Mobile Fire Hose Testing Platform" />
    <meta property="og:site_name" content="FireGauge" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@firegauge" />
    <meta name="twitter:creator" content="@firegauge" />
    <meta name="twitter:title" content="FireGauge - The Future of Fire Hose Testing & Compliance" />
    <meta name="twitter:description" content="Mobile-first fire hose testing platform that streamlines workflows and aids NFPA 1962 compliance. Try it free for 14&nbsp;days." />
    <meta name="twitter:image" content="https://firegauge.app/firegauge-og-image.jpg" />
    <meta name="twitter:image:alt" content="FireGauge - Mobile Fire Hose Testing Platform" />

    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#dc2626" />
    <meta name="msapplication-TileColor" content="#dc2626" />
    <meta name="application-name" content="FireGauge" />
    
    <!-- Favicon and Icons -->
    <link rel="icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- Preconnect to external domains for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://www.googletagmanager.com">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "FireGauge",
      "description": "Mobile-first fire hose testing platform for NFPA 1962 compliance",
      "url": "https://firegauge.app",
      "logo": "https://firegauge.app/logo.png",
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+1-800-347-3428",
        "contactType": "customer service",
        "email": "support@firegauge.app",
        "availableLanguage": ["English"]
      },
      "sameAs": [
        "https://twitter.com/firegauge",
        "https://linkedin.com/company/firegauge"
      ]
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "FireGauge",
      "description": "Mobile-first fire hose testing platform for NFPA 1962 compliance",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web, iOS, Android",
      "offers": {
        "@type": "Offer",
        "price": "99",
        "priceCurrency": "USD",
        "priceValidUntil": "2025-12-31",
        "availability": "https://schema.org/InStock"
      }
    }
    </script>

    <!-- Google Analytics 4 (GA4) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'GA_MEASUREMENT_ID', {
        page_title: 'FireGauge - Home',
        page_location: window.location.href,
        content_group1: 'Marketing',
        custom_map: {
          'custom_parameter_1': 'page_type'
        }
      });
    </script>
    <!-- IMMEDIATE AUTH REDIRECT SCRIPT -->
    <script>
      // This runs BEFORE React loads to handle auth callbacks
      (function() {
        try {
          const currentUrl = window.location.href;
          const currentHash = window.location.hash;
          const currentSearch = window.location.search;
          const hasAccessToken = currentUrl.includes('access_token=') || currentHash.includes('access_token=');
          const hasMagicLink = currentUrl.includes('type=magiclink') || currentHash.includes('type=magiclink');
          const isAuthCallbackPath = window.location.pathname.startsWith('/auth/callback');
          const isRootPath = window.location.pathname === '/';
          
          console.log('üîç Pre-React Auth Check:', {
            url: currentUrl,
            hash: currentHash,
            search: currentSearch,
            pathname: window.location.pathname,
            hasAccessToken,
            hasMagicLink,
            isRootPath,
            isAuthCallbackPath
          });
          
          if ((isRootPath || isAuthCallbackPath) && hasAccessToken) {
            console.log('üöÄ IMMEDIATE REDIRECT: Magic link detected, redirecting to onboarding...');
            
            // Preserve both hash and search parameters
            const newUrl = '/onboarding' + currentSearch + currentHash;
            console.log('üîÑ Redirecting to:', newUrl);
            
            // Immediate redirect before React loads
            window.location.href = newUrl;
          }
        } catch (error) {
          console.error('‚ùå Pre-React auth check error:', error);
        }
      })();
    </script>
  </head>

  <body>
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
